<html>
<head>
<title>eBay Search Results</title>
<style type="text/css">body { font-family: arial,sans-serif;} </style>
</head>
<body>
<h1>eBay Search Results</h1>
<div id="results"></div>


<script>
// Parse the response and build an HTML table to display search results
function _cb_findItemsByKeywords(root) {
  var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];
 var html = [];
 html.push('<table width="100%" border="0" cellspacing="0" cellpadding="3"><tbody>');
 console.log(items)
 for (var i = 0; i < items.length; ++i) {
   var item     = items[i];
   var title    = item.title;
   var pic      = item.galleryURL;
   var viewitem = item.viewItemURL;
   var price = item.sellingStatus[0].convertedCurrentPrice[0].__value__
   if (null != title && null != viewitem) {
     html.push('<tr><td>' + '<img src="' + pic + '" border="0">' + '</td>' +
     '<td><a href="' + viewitem + '" target="_blank">' + title  + '</a>' + price + '</td></tr>');
     console.log(price)
   }
 }
 html.push('</tbody></table>');
 document.getElementById("results").innerHTML = html.join("");
}  // End _cb_findItemsByKeywords() function
// Construct the request
// Replace MyAppID with your Production AppID
var url = "http://svcs.ebay.com/services/search/FindingService/v1";
    url += "?OPERATION-NAME=findItemsByKeywords";
    url += "&SERVICE-VERSION=1.0.0";
    url += "&SECURITY-APPNAME=DavisGre-c5bd-488e-8cd4-d61b5eea42f0";
    url += "&GLOBAL-ID=EBAY-US";
    url += "&RESPONSE-DATA-FORMAT=JSON";
    url += "&callback=_cb_findItemsByKeywords";
    url += "&REST-PAYLOAD";
    url += "&keywords=Office Supplies";
    //url += "&itemFilter(0).MaxPrice=20000"
    url += "&paginationInput.entriesPerPage=3";

    // Submit the request
    s=document.createElement('script'); // create script element
    s.src= url;
    document.body.appendChild(s);
</script>

</body>
</html>
